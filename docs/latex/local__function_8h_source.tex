\doxysection{local\+\_\+function.\+h}
\hypertarget{local__function_8h_source}{}\label{local__function_8h_source}\index{include/local\_function.h@{include/local\_function.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <variant>}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}function.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structVariable}{Variable}};}
\DoxyCodeLine{00008\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structVarRef}{VarRef}};}
\DoxyCodeLine{00009\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCallable}{Callable}};}
\DoxyCodeLine{00010\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classInterpreterVisitor}{InterpreterVisitor}};}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{using\ }\mbox{\hyperlink{interpreter__helpers_8h_a2510b2edc139843ff4194c43706d0b9a}{ValType}}\ =}
\DoxyCodeLine{00013\ \ \ \ \ std::variant<std::monostate,\ std::string,\ int,\ double,\ bool,\ std::shared\_ptr<Callable>>;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{using\ }\mbox{\hyperlink{interpreter__helpers_8h_a64c3c6fb006bd3fe9704b59bf93aa323}{Arg}}\ =\ std::variant<std::shared\_ptr<Variable>,\ \mbox{\hyperlink{interpreter__helpers_8h_a2510b2edc139843ff4194c43706d0b9a}{ValType}}>;}
\DoxyCodeLine{00016\ \textcolor{keyword}{using\ }\mbox{\hyperlink{interpreter__helpers_8h_af0df1662beea2aac1e8da2cbffb93f6f}{ArgVector}}\ =\ std::vector<Arg>;}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00021\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCallable}{Callable}}\ \{}
\DoxyCodeLine{00022\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{classCallable}{\string~Callable}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ call(\mbox{\hyperlink{classInterpreterVisitor}{InterpreterVisitor}}\&\ interpreter,\ ArgVector\ params)\ =\ 0;}
\DoxyCodeLine{00025\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ \textcolor{keyword}{auto}\ get\_func()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFunction}{Function}}*\ =\ 0;}
\DoxyCodeLine{00026\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ \textcolor{keyword}{auto}\ get\_type()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classType}{Type}}*\ =\ 0;}
\DoxyCodeLine{00027\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{virtual}\ \textcolor{keyword}{auto}\ get\_name()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ std::string\ =\ 0;}
\DoxyCodeLine{00028\ \};}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }GlobalFunction\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classCallable}{Callable}}\ \{}
\DoxyCodeLine{00034\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00035\ \ \ \ \ std::unique\_ptr<Type>\ type;}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFunction}{Function}}*\ func;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00039\ \ \ \ \ GlobalFunction(\textcolor{keyword}{const}\ \mbox{\hyperlink{classFunction}{Function}}*\ func);}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classGlobalFunction_a6af905d36f418d08157cc557e54c10c2}{call}}(\mbox{\hyperlink{classInterpreterVisitor}{InterpreterVisitor}}\&\ interpreter,\ ArgVector\ params)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00041\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ get\_func()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFunction}{Function}}*\ \textcolor{keyword}{override};}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{auto}\ prepare\_func\_args(\mbox{\hyperlink{classInterpreterVisitor}{InterpreterVisitor}}\&\ interpreter,\ ArgVector\&\ args)\ \textcolor{keyword}{const}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ -\/>\ std::vector<std::shared\_ptr<VarRef>>;}
\DoxyCodeLine{00044\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ get\_type()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classType}{Type}}*\ \textcolor{keyword}{override}\ \{\ \textcolor{keywordflow}{return}\ type.get();\ \}}
\DoxyCodeLine{00045\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ get\_name()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ std::string\ \textcolor{keyword}{override}\ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ func-\/>get\_signature()-\/>get\_name();}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ \};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00055\ \textcolor{keyword}{class\ }LocalFunction\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classCallable}{Callable}}\ \{}
\DoxyCodeLine{00056\ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00057\ \ \ \ \ std::shared\_ptr<Callable>\ callee;}
\DoxyCodeLine{00058\ \ \ \ \ std::unique\_ptr<Type>\ type;}
\DoxyCodeLine{00059\ \ \ \ \ std::string\ name;}
\DoxyCodeLine{00060\ \ \ \ \ ArgVector\ bound\_args;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00063\ \ \ \ \ LocalFunction(std::shared\_ptr<Callable>\ callee\_func,\ ArgVector\ bound\_args);}
\DoxyCodeLine{00064\ \ \ \ \ LocalFunction(std::unique\_ptr<Type>\ type);}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classLocalFunction_ae895676cd8883cb8455838d8c045d07f}{call}}(\mbox{\hyperlink{classInterpreterVisitor}{InterpreterVisitor}}\&\ interpreter,\ ArgVector\ params)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00066\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ get\_func()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classFunction}{Function}}*\ \textcolor{keyword}{override};}
\DoxyCodeLine{00067\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ get\_type()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classType}{Type}}*\ \textcolor{keyword}{override}\ \{\ \textcolor{keywordflow}{return}\ type.get();\ \}}
\DoxyCodeLine{00068\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{auto}\ get\_name()\ \textcolor{keyword}{const}\ -\/>\ \textcolor{keyword}{const}\ std::string\ \textcolor{keyword}{override}\ \{\ \textcolor{keywordflow}{return}\ name;\ \}}
\DoxyCodeLine{00069\ \};}

\end{DoxyCode}
